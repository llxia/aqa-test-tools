const app = require( 'express' ).Router();
const wrap = fn => ( req, res ) => fn( req, res ).catch( console.error.bind( console ) );

app.get( '/compareTestDuration', wrap( require( "./compareTestDuration" ) ) );
app.get( '/compareTestsOutput', wrap( require( "./compareTestsOutput" ) ) );
app.get( '/deleteBuildListById', wrap( require( "./deleteBuildListById" ) ) );
app.get( '/deleteBuildsAndChildrenByFields', wrap( require( "./deleteBuildsAndChildrenByFields" ).default ) );
app.get( '/deleteCollection', wrap( require( "./deleteCollection" ) ) );
app.get( '/deleteUnusedOutput', wrap( require( "./deleteUnusedOutput" ) ) );
app.get( '/getAllChildBuilds', wrap( require( "./getAllChildBuilds" ) ) );
app.get( '/getAllTestsWithHistory', wrap( require( "./getAllTestsWithHistory" ) ) );
app.get( '/getAuditLogs', wrap( require( "./getAuditLogs" ) ) );
app.get( '/getAzure', wrap( require( "./getAzure" ) ) );
app.get( '/getParserProps', wrap ( require ("./getParserProps") )) ;
app.get( '/getBuildHistory', wrap( require( "./getBuildHistory" ) ) );
app.get( '/getBuildList', wrap( require( "./getBuildList" ) ) );
app.get( '/getChildBuilds', wrap( require( "./getChildBuilds" ) ) );
app.get( '/getDashboardBuildInfo', wrap( require( "./getDashboardBuildInfo" ) ) );
app.get( '/getData', wrap( require( "./getData" ) ) );
app.get( '/getHistoryPerTest', wrap( require( "./getHistoryPerTest" ) ) );
app.get( '/getJenkins', wrap( require( "./getJenkins" ) ) );
app.get( '/getLastBuildInfo', wrap( require( "./getLastBuildInfo" ) ) );
app.get( '/getOutputById', wrap( require( "./getOutputById" ) ) );
app.get( '/getOutputByTestInfo', wrap( require( "./getOutputByTestInfo" ) ) );
app.get( '/getTestAvgDuration', wrap( require( "./getTestAvgDuration" ) ) );
app.get( '/getTestInfoByBuildInfo', wrap( require( "./getTestInfoByBuildInfo" ) ) );
app.get( '/getParents', wrap( require( "./getParents" ) ) );
app.get( '/getPerffarmRunCSV', wrap( require( "./getPerffarmRunCSV" ) ) );
app.get( '/getTabularData', wrap( require( "./getTabularData" ) ) );
app.get( '/getTabularDropdown', wrap( require( "./getTabularDropdown" ) ) );
app.get( '/getTestById', wrap( require( "./getTestById" ) ) );
app.get( '/getTestBySearch', wrap( require( "./getTestBySearch" ) ) );
app.get( '/getTestPerPlatform', wrap( require( "./getTestPerPlatform" ) ) );
app.get( '/getTopLevelBuildNames', wrap( require( "./getTopLevelBuildNames" ) ) );
app.get( '/getTotals', wrap( require( "./getTotals" ) ) );
app.get( '/populateDB', wrap( require( "./populateDB" ) ) );
app.get( '/updateComments', wrap( require( "./updateComments" ) ) );

app.post( '/getParentSpecificData', wrap( require( "./getParentSpecificData" ) ) );
app.post( '/getSpecificData', wrap( require( "./getSpecificData" ) ) );
app.post( '/upsertBuildList', wrap( require( "./upsertBuildList" ) ) );

module.exports = app;